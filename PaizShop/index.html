<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/PaizCorp/PaizShop/PaizShop2.png" sizes="16x16">
    <title>Paiz Shop</title>
    <meta name="description" content="Paiz Shop. Best item supplier in Skyxion.">
    <meta name="keywords" content="The Legend Of Legiona, TheLoL, TheLoL Website, The LoL, TheLol Server, The LoL Server, The Legend of Legiona Website, faizzzlol, FaizGG, Faiz Gaming, The Sus, TLoL, TL, CornHub, 4k, Apple, iPhone 16, iPhone 15, Apple Watch, iPhone SE, YouTube, Netflix, Roblox, Twitch, Maybank, Instagram, Paiz Shop, Skyxion, Neverland, Paiz Corp, Paiz Chicken, Paiz Railways">
    <meta property="og:title" content="Paiz Shop"/>
    <meta property="og:url" content="https://faizzzlol.github.io/PaizCorp/PaizShop/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Paiz Shop. Best item supplier in Skyxion."/>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>
            <img src="PaizShop2.png" alt="Paiz Shop Logo" id="shop-logo">
            <a href="" id="shop-link">Paiz Shop</a>
        </h1>
        <nav>
            <ul>
                <li><a href="">Home</a></li>
                <li><a href="/PaizCorp/PaizShop/order-history">Order History</a></li>
                <li><a href="/PaizCorp/PaizShop/how-to-use">How to Use</a></li>
                <li><a href="/thelol/finance/currency-converter">Currency</a></li>
                <li><a href="https://discord.gg/TB4T8qwN4R">Contact Us</a></li>
                <li><a href="/PaizCorp/PaizShop/feedback">Feedback</a></li>
                <li><a href="https://sociabuzz.com/faizgg/donate">Donate</a></li>
            </ul>
        </nav>
        <div class="theme-switcher">
            <label class="switch">
                <input type="checkbox" id="theme-toggle" onclick="toggleTheme()">
                <span class="slider round"></span>
            </label>
        </div>
    </header>
    <main>
        <section id="shop-items">
            <div class="item">
                <img src="shulker_box.png" alt="Shulker Box">
                <div>
                    <h3>Shulker Box</h3>
                    <p>4 Diamond</p>
                    <p>Available Stock: <span id="stock-shulker">100</span></p>
                    <div class="sold-out" id="sold-out-shulker" style="display:none;">Sold Out</div>
                    <label for="quantity-shulker">Quantity:</label>
                    <input type="number" id="quantity-shulker" min="1" value="1" oninput="validateStock('shulker')">
                </div>
                <button id="buy-shulker" onclick="buyItem('shulker', 4)">Buy Now</button>
            </div>
            <div class="item">
                <img src="mending.png" alt="Mending">
                <div>
                    <h3>Mending I</h3>
                    <p>3 Diamond</p>
                    <p>Available Stock: <span id="stock-mending">0</span></p>
                    <div class="sold-out" id="sold-out-mending">Sold Out</div>
                    <label for="quantity-mending">Quantity:</label>
                    <input type="number" id="quantity-mending" min="1" value="1" oninput="validateStock('mending')">
                </div>
                <button id="buy-mending" onclick="buyItem('mending', 3)" disabled>Buy Now</button>
            </div>
            <div class="item">
                <img src="mending.png" alt="Unbreaking III">
                <div>
                    <h3>Unbreaking III</h3>
                    <p>2 Diamond</p>
                    <p>Available Stock: <span id="stock-unbreaking">0</span></p>
                    <div class="sold-out" id="sold-out-unbreaking" style="display:none;">Sold Out</div>
                    <label for="quantity-unbreaking">Quantity:</label>
                    <input type="number" id="quantity-unbreaking" min="1" value="1" oninput="validateStock('unbreaking')">
                </div>
                <button id="buy-unbreaking" onclick="buyItem('unbreaking', 2)" disabled>Buy Now</button>
            </div>
            <div class="item">
                <img src="nether_wart.png" alt="Nether Wart">
                <div>
                    <h3>Nether Wart</h3>
                    <p>3 Diamond</p>
                    <p>Available Stock: <span id="stock-wart">10</span></p>
                    <div class="sold-out" id="sold-out-wart" style="display:none;">Sold Out</div>
                    <label for="quantity-wart">Quantity:</label>
                    <input type="number" id="quantity-wart" min="1" value="1" oninput="validateStock('wart')">
                </div>
                <button id="buy-wart" onclick="buyItem('wart', 3)">Buy Now</button>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Paiz Shop. All rights reserved.</p>
        <button onclick="clearUserData()" class="clear-data-btn">Clear My Data</button>
    </footer>

    <!-- JavaScript for Stock Validation and Theme Toggle -->
    <script>
        // Handle "Buy Now" button
        function buyItem(item, price) {
            const stock = parseInt(document.getElementById(`stock-${item}`).innerText);
            const quantity = parseInt(document.getElementById(`quantity-${item}`).value);

            // Check stock availability
            if (quantity > stock || stock === 0) {
                alert("Not enough stock available!");
                return;
            }

            // Store the item details in sessionStorage for checkout
            sessionStorage.setItem('selectedItem', JSON.stringify({
                item: item,
                quantity: quantity,
                price: price
            }));

            // Redirect to the checkout page
            window.location.href = '/PaizCorp/PaizShop/checkout'; // Ensure this path matches your actual checkout page
        }

        // Validate stock on quantity change
        function validateStock(item) {
            const stock = parseInt(document.getElementById(`stock-${item}`).innerText);
            const quantity = parseInt(document.getElementById(`quantity-${item}`).value);
            const buyButton = document.getElementById(`buy-${item}`);
            const soldOut = document.getElementById(`sold-out-${item}`);

            if (quantity > stock || stock === 0) {
                buyButton.disabled = true;
                soldOut.style.display = 'block';
            } else {
                buyButton.disabled = false;
                soldOut.style.display = 'none';
            }
        }
        
        // Function to toggle between themes
        function toggleTheme() {
            const themeToggle = document.getElementById('theme-toggle');
            const isDarkMode = themeToggle.checked;

            if (isDarkMode) {
                document.body.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            }
        }

        // Load the user's theme preference on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            const themeToggle = document.getElementById('theme-toggle');

            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.checked = true;
            } else {
                document.body.setAttribute('data-theme', 'light');
                themeToggle.checked = false;
            }
        });

        function clearUserData() {
            // Clear theme preference
            localStorage.removeItem('theme');
            document.body.setAttribute('data-theme', 'light');

            // Clear order history
            localStorage.removeItem('orderHistory');
    
            // Clear any other user-specific data stored in localStorage
            sessionStorage.clear();
            localStorage.clear();

            alert("Your data has been cleared!");

            // Optionally, you can reload the page to apply the default theme and clear any session data
            window.location.reload();
        }

        
        // Initial Stock Validation
        document.addEventListener('DOMContentLoaded', () => {
            validateStock('shulker');
            validateStock('mending');
            validateStock('unbreaking');
            validateStock('wart');
        });
    </script>
</body>
</html>
